<!DOCTYPE html>  <html lang="pt-BR">  
<head>  
  <meta charset="UTF-8">  
  <title>Histórico de Movimentações - Loja Virtual</title>  
  <style>  
    body {  
      font-family: Arial, sans-serif;  
      background: #f2f2f2;  
      padding: 20px;  
    }  
    .container {  
      max-width: 700px;  
      margin: auto;  
      background: #fff;  
      padding: 20px;  
      border-radius: 8px;  
      box-shadow: 0 0 10px rgba(0,0,0,0.1);  
    }  
    h1 {  
      text-align: center;  
    }  
    .inputs {  
      display: flex;  
      flex-direction: column;  
      margin-bottom: 20px;  
    }  
    .inputs input {  
      padding: 10px;  
      margin-bottom: 10px;  
      border: 1px solid #ccc;  
      border-radius: 5px;  
    }  
    .actions button {  
      padding: 10px 15px;  
      margin-right: 10px;  
      border: none;  
      border-radius: 4px;  
      cursor: pointer;  
      color: white;  
      font-weight: bold;  
    }  
    .entrada { background-color: #28a745; }  
    .saida { background-color: #dc3545; }  
    .log {  
      border-top: 1px solid #ccc;  
      padding-top: 15px;  
      max-height: 400px;  
      overflow-y: auto;  
    }  
    .log-entry {  
      padding: 10px;  
      border-bottom: 1px solid #eee;  
    }  
    .log-entry.entrada { color: #28a745; }  
    .log-entry.saida { color: #dc3545; }  
    .timestamp {  
      font-size: 0.9em;  
      color: #999;  
    }  
  </style>  
</head>  
<body>  
  <div class="container">  
    <h1>Histórico de Movimentações</h1>  <div class="inputs">  
  <input type="text" id="produto" placeholder="Nome do produto" aria-label="Nome do produto">  
  <input type="text" id="usuario" placeholder="Nome do usuário" aria-label="Nome do usuário">  
</div>  

<div class="actions">  
  <button class="entrada" onclick="registrarMovimentacao('entrada')">Registrar Entrada</button>  
  <button class="saida" onclick="registrarMovimentacao('saida')">Registrar Saída</button>  
</div>  

<div id="log" class="log">  
  <!-- Histórico será carregado aqui -->  
</div>

  </div>    <script>  
    // Carregar histórico do localStorage ao iniciar  
    window.onload = function () {  
      const historicoSalvo = localStorage.getItem('movimentacoes');  
      if (historicoSalvo) {  
        const movimentacoes = JSON.parse(historicoSalvo);  
        movimentacoes.forEach(mov => adicionarAoLog(mov, false));  
      }  
    };  
  
    function registrarMovimentacao(tipo) {  
      const produto = document.getElementById('produto').value.trim();  
      const usuario = document.getElementById('usuario').value.trim();  
  
      if (!produto || !usuario) {  
        alert('Por favor, preencha o nome do produto e do usuário.');  
        return;  
      }  
  
      const dataHora = new Date().toLocaleString('pt-BR');  
      const descricao = tipo === 'entrada' ?   
        `Entrada de "${produto}" por ${usuario}.` :   
        `Saída de "${produto}" por ${usuario}.`;  
  
      const movimentacao = {  
        tipo,  
        descricao,  
        dataHora  
      };  
  
      adicionarAoLog(movimentacao, true);  
  
      // Limpa os campos após o registro  
      document.getElementById('produto').value = '';  
      document.getElementById('usuario').value = '';  
    }  
  
    function adicionarAoLog(movimentacao, salvar) {  
      const log = document.getElementById('log');  
      const entry = document.createElement('div');  
      entry.className = `log-entry ${movimentacao.tipo}`;  
      entry.innerHTML = `  
        <strong>${movimentacao.tipo.toUpperCase()}</strong>: ${movimentacao.descricao}  
        <div class="timestamp">${movimentacao.dataHora}</div>  
      `;  
      log.prepend(entry);  
  
      // Salvar no localStorage se necessário  
      if (salvar) {  
        const historico = JSON.parse(localStorage.getItem('movimentacoes')) || [];  
        historico.unshift(movimentacao); // Adiciona no início  
        localStorage.setItem('movimentacoes', JSON.stringify(historico));  
      }  
    }  
  </script>  </body>  
</html>  
